<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <meta name="robots" content="noodp" />
    <title>üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™ - DevJev.nl | Azure, Cloud Security &amp; DevOps Insights for IT Professionals</title><meta name="author" content="Jev">
<meta name="description" content="Learn how to deploy Azure Sentinel to an existing Log Analytics workspace using Bicep for a streamlined and efficient setup."><meta name="keywords" content='Azure Sentinel, Bicep, Log Analytics, Microsoft Azure, Cloud Security'>
  <meta itemprop="name" content="üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™">
  <meta itemprop="description" content="Learn how to deploy Azure Sentinel to an existing Log Analytics workspace using Bicep for a streamlined and efficient setup.">
  <meta itemprop="datePublished" content="2024-11-25T02:00:00+02:00">
  <meta itemprop="dateModified" content="2024-11-25T02:00:00+02:00">
  <meta itemprop="wordCount" content="583">
  <meta itemprop="image" content="https://www.devjev.nl/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/featured-image.png">
  <meta itemprop="keywords" content="Azure Sentinel,Bicep,Log Analytics,Microsoft Azure,Cloud Security"><meta property="og:url" content="https://www.devjev.nl/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/">
  <meta property="og:site_name" content="DevJev.nl | Azure, Cloud Security & DevOps Insights for IT Professionals">
  <meta property="og:title" content="üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™">
  <meta property="og:description" content="Learn how to deploy Azure Sentinel to an existing Log Analytics workspace using Bicep for a streamlined and efficient setup.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-11-25T02:00:00+02:00">
    <meta property="article:modified_time" content="2024-11-25T02:00:00+02:00">
    <meta property="article:tag" content="Azure Sentinel">
    <meta property="article:tag" content="Bicep">
    <meta property="article:tag" content="Log Analytics">
    <meta property="article:tag" content="Microsoft Azure">
    <meta property="article:tag" content="Cloud Security">
    <meta property="og:image" content="https://www.devjev.nl/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/featured-image.png">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://www.devjev.nl/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/featured-image.png">
  <meta name="twitter:title" content="üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™">
  <meta name="twitter:description" content="Learn how to deploy Azure Sentinel to an existing Log Analytics workspace using Bicep for a streamlined and efficient setup.">
      <meta name="twitter:site" content="@DevJevNL">
<meta name="twitter:creator" content="@DevJevNL" /><meta name="application-name" content="FixIt">
<meta name="apple-mobile-web-app-title" content="FixIt"><meta name="theme-color" data-light="#f8f8f8" data-dark="#252627" content="#f8f8f8"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="canonical" type="text/html" href="https://www.devjev.nl/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/" title="üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™ - DevJev.nl | Azure, Cloud Security &amp; DevOps Insights for IT Professionals" /><link rel="prev" type="text/html" href="https://www.devjev.nl/posts/2024/keep-calm-and-use-azure-bastion-developer-sku-for-free/" title="üîí Keep Calm and Use Azure Bastion Developer SKU for Free üíª" /><link rel="next" type="text/html" href="https://www.devjev.nl/posts/2024/decoding-microsoft-azure-landing-zones-explained/" title=" üîç Decoding Microsoft Azure: Landing Zones Explained üõ¨" /><link rel="stylesheet" href="/css/config.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="/lib/fontawesome-free/all.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"></noscript><link rel="preload" href="/lib/animate/animate.min.css" as="style" onload="this.removeAttribute('onload');this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="/lib/animate/animate.min.css"></noscript><script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™",
    "inLanguage": "en",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https:\/\/www.devjev.nl\/posts\/2024\/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy\/"
    },"image": [{
              "@type": "ImageObject",
              "url": "https:\/\/www.devjev.nl\/posts\/2024\/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy\/featured-image.png",
              "width":  900 ,
              "height":  456 
            }],"genre": "posts","keywords": "Azure Sentinel, Bicep, Log Analytics, Microsoft Azure, Cloud Security","wordcount":  583 ,
    "url": "https:\/\/www.devjev.nl\/posts\/2024\/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy\/","datePublished": "2024-11-25T02:00:00+02:00","dateModified": "2024-11-25T02:00:00+02:00","publisher": {
      "@type": "Organization",
      "name": ""},"author": {
        "@type": "Person",
        "name": "Jev"
      },"description": "Learn how to deploy Azure Sentinel to an existing Log Analytics workspace using Bicep for a streamlined and efficient setup."
  }
  </script><script src="/js/head/color-scheme.min.js"></script></head>
  <body data-header-desktop="fixed" data-header-mobile="auto"><div class="wrapper" data-page-style="custom"><header class="desktop animate__faster" id="header-desktop">
  <div class="header-wrapper">
    <div class="header-title">
      <a href="/" title="DevJev.nl | Azure, Cloud Security &amp; DevOps Insights for IT Professionals"><span class="header-title-text">DevJev.nl</span></a><span class="header-subtitle"></span></div>
    <nav>
      <ul class="menu"><li class="menu-item">
              <a class="menu-link" href="/posts/" title="Blog posts">Posts</a></li><li class="menu-item">
              <a class="menu-link" href="/categories/" title="Post categories">Categories</a></li><li class="menu-item">
              <a class="menu-link" href="/tags/" title="Tags used in posts">Tags</a></li><li class="menu-item">
              <a class="menu-link" href="/about/" title="About Me">About</a></li><li class="menu-item delimiter"></li><li class="menu-item search" id="search-desktop">
            <input type="text" placeholder="Search titles or contents ..." id="search-input-desktop">
            <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
              <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
            </a>
            <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
              <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
            </a>
            <span class="search-button search-loading" id="search-loading-desktop">
              <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
            </span>
          </li><li class="menu-item theme-switch" title="Switch Theme">
          <i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i>
        </li></ul>
    </nav>
  </div>
</header><header class="mobile animate__faster" id="header-mobile">
  <div class="header-container">
    <div class="header-wrapper">
      <div class="header-title">
        <a href="/" title="DevJev.nl | Azure, Cloud Security &amp; DevOps Insights for IT Professionals"><span class="header-title-text">DevJev.nl</span></a><span class="header-subtitle"></span></div>
      <div class="menu-toggle" id="menu-toggle-mobile">
        <span></span><span></span><span></span>
      </div>
    </div>
    <nav>
      <ul class="menu" id="menu-mobile"><li class="search-wrapper">
            <div class="search mobile" id="search-mobile">
              <input type="text" placeholder="Search titles or contents ..." id="search-input-mobile">
              <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                <i class="fa-solid fa-search fa-fw" aria-hidden="true"></i>
              </a>
              <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                <i class="fa-solid fa-times-circle fa-fw" aria-hidden="true"></i>
              </a>
              <span class="search-button search-loading" id="search-loading-mobile">
                <i class="fa-solid fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
              </span>
            </div>
            <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
              Cancel
            </a>
          </li><li class="menu-item"><a class="menu-link" href="/posts/" title="Blog posts">Posts</a></li><li class="menu-item"><a class="menu-link" href="/categories/" title="Post categories">Categories</a></li><li class="menu-item"><a class="menu-link" href="/tags/" title="Tags used in posts">Tags</a></li><li class="menu-item"><a class="menu-link" href="/about/" title="About Me">About</a></li><li class="menu-item menu-system">
          <span class="menu-system-item theme-switch" title="Switch Theme"><i class="fa-solid fa-adjust fa-fw" aria-hidden="true"></i></span></li>
      </ul>
    </nav>
  </div>
</header><div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
  </div>
  <div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
  </div><main class="fi-container"><aside class="aside-collection animate__animated animate__fadeIn animate__faster" aria-label="Collections"></aside>

  <article class="page single">
    <div class="header"><h1 class="single-title animate__animated animate__flipInX"><span>üõ°Ô∏è You Had Me at Bicep: Deploying Microsoft Sentinel Made Easy üí™</span>
      </h1></div><div class="post-meta">
      <div class="post-meta-line"><span class="post-author"><span class="author"><i class="fa-solid fa-user-circle" aria-hidden="true"></i>
      Jev</span></span><span class="post-included-in">&nbsp;included in <a href="/categories/azure/" class="post-category" title="Category - Azure"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Azure</a>&ensp;<a href="/categories/azure-sentinel/" class="post-category" title="Category - Azure Sentinel"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Azure Sentinel</a>&ensp;<a href="/categories/azure-security/" class="post-category" title="Category - Azure Security"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> Azure Security</a>&ensp;<a href="/categories/how-to/" class="post-category" title="Category - How To"><i class="fa-regular fa-folder fa-fw" aria-hidden="true"></i> How To</a></span></div><div class="post-meta-line"><span title="published on 2024-11-25 02:00:00"><i class="fa-solid fa-calendar-days fa-fw me-1" aria-hidden="true"></i><time datetime="2024-11-25">2024-11-25</time></span>&nbsp;<span title="583 words"><i class="fa-solid fa-pencil-alt fa-fw me-1" aria-hidden="true"></i>About 600 words</span>&nbsp;<span><i class="fa-regular fa-clock fa-fw me-1" aria-hidden="true"></i>3 minutes</span>&nbsp;</div>
    </div><div class="featured-image"><img src='/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/featured-image.png' alt="/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/featured-image.png"></div><div class="details toc" id="toc-static" data-kept="false">
        <div class="details-summary toc-title">
          <span>Contents</span>
          <span><i class="details-icon fa-solid fa-angle-right" aria-hidden="true"></i></span>
        </div>
        <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-microsoft-sentinel">What is Microsoft Sentinel?</a></li>
    <li><a href="#deploying-microsoft-sentinel-using-bicep">Deploying Microsoft Sentinel using Bicep</a>
      <ul>
        <li><a href="#1-gathering-prerequisites-and-creating-parameters">1. Gathering Prerequisites and Creating Parameters</a></li>
        <li><a href="#2-get-the-log-analytics-workspace-resource">2. Get the Log Analytics Workspace Resource</a></li>
        <li><a href="#3-deploying-the-microsoft-sentinel-solution">3. Deploying the Microsoft Sentinel Solution</a></li>
        <li><a href="#4-onboard-the-log-analytics-workspace-to-sentinel">4. Onboard the Log Analytics Workspace to Sentinel</a></li>
      </ul>
    </li>
    <li><a href="#wrapping-up">Wrapping up</a></li>
  </ul>
</nav></div>
      </div><div class="content" id="content"><p>In this post, I&rsquo;ll demonstrate how to quickly and easily deploy Microsoft Sentinel to an existing Log Analytics workspace using Bicep. This step-by-step guide simplifies the process, showing that deploying Microsoft Sentinel doesn‚Äôt have to be complicated‚Äîwhether you&rsquo;re an experienced cloud professional or new to Azure.</p>
<h2 class="heading-element" id="what-is-microsoft-sentinel"><span>What is Microsoft Sentinel?</span>
  <a href="#what-is-microsoft-sentinel" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>If you&rsquo;re new to Microsoft Sentinel, here&rsquo;s a brief introduction. Feel free to skip this section if you&rsquo;re already familiar with it.</p>
<p>Microsoft Sentinel is a cloud-native Security Information and Event Management (SIEM) solution that provides intelligent security analytics across your entire enterprise. It helps organizations detect, investigate, and respond to security threats with real-time insights and advanced threat intelligence. By integrating seamlessly with Azure, Microsoft Sentinel offers a scalable platform to monitor, analyze, and protect data across cloud, on-premises, and hybrid environments.</p>
<p>For more details, check out the <a href="https://learn.microsoft.com/en-us/azure/sentinel?wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">official Microsoft Sentinel documentation</a>.</p>
<h2 class="heading-element" id="deploying-microsoft-sentinel-using-bicep"><span>Deploying Microsoft Sentinel using Bicep</span>
  <a href="#deploying-microsoft-sentinel-using-bicep" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><h3 class="heading-element" id="1-gathering-prerequisites-and-creating-parameters"><span>1. Gathering Prerequisites and Creating Parameters</span>
  <a href="#1-gathering-prerequisites-and-creating-parameters" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Before we start, we need to prepare some input. First, we need the name of the Log Analytics workspace where we want to deploy Microsoft Sentinel. The goal of this post is to maximize modularity and reusability, so we‚Äôll assume that the Log Analytics workspace has already been created. If you need help creating a Log Analytics workspace, check out the <a href="https://learn.microsoft.com/en-us/azure/azure-monitor/learn/quick-create-workspace?tabs=azure-portal&amp;wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">official documentation</a>.</p>
<p>For the existing workspace, we need the following information:</p>
<ul>
<li><strong>Log Analytics Workspace Name</strong>: The name of the Log Analytics workspace where we want to deploy Microsoft Sentinel.</li>
<li><strong>Resource Location</strong>: The Azure region where the Log Analytics workspace is located and where we want to deploy the Sentinel solution.</li>
</ul>
<p>With this info ready, we can create the parameters as shown in the following snippet.</p>
<script src="https://gist.github.com/devjevnl/eac76bc4e9ce0c6c0ed30fbafb57245a.js?file=parameters.bicep"></script>
<h3 class="heading-element" id="2-get-the-log-analytics-workspace-resource"><span>2. Get the Log Analytics Workspace Resource</span>
  <a href="#2-get-the-log-analytics-workspace-resource" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Next, let&rsquo;s retrieve the Log Analytics workspace resource, as shown in the following snippet.</p>
<script src="https://gist.github.com/devjevnl/eac76bc4e9ce0c6c0ed30fbafb57245a.js?file=existing-workspace.bicep"></script>
<h3 class="heading-element" id="3-deploying-the-microsoft-sentinel-solution"><span>3. Deploying the Microsoft Sentinel Solution</span>
  <a href="#3-deploying-the-microsoft-sentinel-solution" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Now, let‚Äôs deploy the Microsoft Sentinel solution to the Log Analytics workspace, as shown in the following snippet.</p>
<script src="https://gist.github.com/devjevnl/eac76bc4e9ce0c6c0ed30fbafb57245a.js?file=sentinel-solution.bicep"></script>
<p>It‚Äôs important to note that we are deploying a gallery solution here. This solution is a prerequisite for onboarding the Log Analytics workspace to Microsoft Sentinel, which we will do in the next step. Simply deploying this resource won‚Äôt be enough for a successful Microsoft Sentinel setup.</p>
<div class="details admonition info open">
  <div class="details-summary admonition-title"><i class="icon fa-fw fa-solid fa-circle-info" aria-hidden="true"></i>Info<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></div>
  <div class="details-content">
    <div class="admonition-content"><p>The solution is defined using semi-hardcoded values. Deviating from these values will cause the deployment to fail. This is fundamentally different from how other resource deployments are done in Azure.</p>
<ul>
<li>The name must be defined as <code>SecurityInsights(&lt;YourSentinelWorkspaceName&gt;)</code></li>
<li>The plan name must match exactly as <code>SecurityInsights(&lt;YourSentinelWorkspaceName&gt;)</code></li>
<li>The publisher must be hardcoded to <code>Microsoft</code>.</li>
</ul></div>
  </div>
</div>
<h3 class="heading-element" id="4-onboard-the-log-analytics-workspace-to-sentinel"><span>4. Onboard the Log Analytics Workspace to Sentinel</span>
  <a href="#4-onboard-the-log-analytics-workspace-to-sentinel" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h3><p>Finally, we need to onboard the Log Analytics workspace to Sentinel. This is done by calling the <code>Microsoft.OperationsManagement/solutions/Onboarding</code> resource provider, as shown in the following snippet.</p>
<script src="https://gist.github.com/devjevnl/eac76bc4e9ce0c6c0ed30fbafb57245a.js?file=onboard-to-sentinel.bicep"></script>
<p>Without this step, you can view the Log Analytics workspace in Microsoft Sentinel, but the portal will throw errors when you try to interact with various features.</p>
<div class="details admonition info open">
  <div class="details-summary admonition-title"><i class="icon fa-fw fa-solid fa-circle-info" aria-hidden="true"></i>Info<i class="details-icon fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></div>
  <div class="details-content">
    <div class="admonition-content">The name must be hardcoded to <code>default</code>. Any other value will cause the deployment to fail.</div>
  </div>
</div>
<h2 class="heading-element" id="wrapping-up"><span>Wrapping up</span>
  <a href="#wrapping-up" class="heading-mark">
    <svg class="octicon octicon-link" viewBox="0 0 16 16" version="1.1" width="16" height="16" aria-hidden="true"><path d="m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z"></path></svg>
  </a>
</h2><p>And that&rsquo;s all folks! We have successfully deployed Microsoft Sentinel to an existing Log Analytics workspace using Bicep. I hope you found this post educational and easy to follow. If you‚Äôre interested in the reference material used in this post, please visit the following links:</p>
<ul>
<li><a href="https://learn.microsoft.com/en-us/azure/sentinel/?wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">Microsoft Sentinel documentation</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/sentinel/overview?tabs=azure-portal&amp;wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">What is Microsoft Sentinel?</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/templates/microsoft.operationsmanagement/solutions?pivots=deployment-language-bicep&amp;wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">Microsoft.OperationsManagement solutions</a></li>
<li><a href="https://learn.microsoft.com/en-us/azure/azure-monitor/learn/quick-create-workspace?tabs=azure-portal&amp;wt.mc_id=DT-MVP-5005327"target="_blank" rel="external nofollow noopener noreferrer">Create a Log Analytics workspace</a></li>
</ul>
<p>As always, a big <strong>thanks</strong> for reading! If you liked this post, don&rsquo;t be shy‚Äîcheck out my other <a href="/posts">posts</a>.</p>
</div><div class="post-footer" id="post-footer">
  <div class="post-info">
    <div class="post-info-line">
      <div class="post-info-mod"><span title="Updated on 2024-11-25 02:00:00">Updated on 2024-11-25&nbsp;</span>
      </div></div><div class="post-info-line">
        <div class="post-info-md"></div>
        <div class="post-info-share">
          <span></span>
        </div>
      </div></div>

  <div class="post-info-more">
    <section class="post-tags"><i class="fa-solid fa-tags fa-fw me-1" aria-hidden="true"></i><a href="/tags/azure-sentinel/" class="post-tag" title="Tags - Azure Sentinel">Azure Sentinel</a><a href="/tags/bicep/" class="post-tag" title="Tags - Bicep">Bicep</a><a href="/tags/log-analytics/" class="post-tag" title="Tags - Log Analytics">Log Analytics</a><a href="/tags/microsoft-azure/" class="post-tag" title="Tags - Microsoft Azure">Microsoft Azure</a><a href="/tags/cloud-security/" class="post-tag" title="Tags - Cloud Security">Cloud Security</a></section>
    <section><span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
    </section>
  </div><div class="post-nav"><a href="/posts/2024/keep-calm-and-use-azure-bastion-developer-sku-for-free/" class="post-nav-item" rel="prev" title="üîí Keep Calm and Use Azure Bastion Developer SKU for Free üíª"><i class="fa-solid fa-angle-left fa-fw" aria-hidden="true"></i>üîí Keep Calm and Use Azure Bastion Developer SKU for Free üíª</a><a href="/posts/2024/decoding-microsoft-azure-landing-zones-explained/" class="post-nav-item" rel="next" title=" üîç Decoding Microsoft Azure: Landing Zones Explained üõ¨"> üîç Decoding Microsoft Azure: Landing Zones Explained üõ¨<i class="fa-solid fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
</article>

  <aside class="toc" id="toc-auto" aria-label="Contents"><h2 class="toc-title">Contents&nbsp;<i class="toc-icon fa-solid fa-angle-down fa-fw" aria-hidden="true"></i></h2>
      <div class="toc-content always-active" id="toc-content-auto"></div></aside></main><footer class="footer">
    <div class="footer-container"><div class="custom-footer-text">
  <p>¬© 2025 Jev Suchoi - Let's automate the boring! </p>
</div>
<div class="footer-line copyright" itemscope itemtype="http://schema.org/CreativeWork"><i class="fa-regular fa-copyright fa-fw" aria-hidden="true"></i>
            <span itemprop="copyrightYear">2025</span><span class="author" itemprop="copyrightHolder">
              <a href="/"></a></span></div></div>
  </footer></div><div class="widgets"><div class="fixed-buttons animate__faster d-none"><div class="fixed-button back-to-top" role="button" aria-label="Back to Top"><i class="fa-solid fa-arrow-up fa-fw" aria-hidden="true"></i><span class="variant-numeric d-none">0%</span>
        </div></div><div id="mask"></div><noscript>
    <div class="noscript-warning">This website works best with JavaScript enabled.</div>
  </noscript>
</div><link rel="stylesheet" href="/lib/lightgallery/css/lightgallery-bundle.min.css"><link rel="stylesheet" href="/lib/cookieconsent/cookieconsent.min.css"><script src="/lib/autocomplete/autocomplete.min.js" defer></script><script src="/lib/fuse/fuse.min.js" defer></script><script src="/lib/lightgallery/lightgallery.min.js" defer></script><script src="/lib/lightgallery/plugins/thumbnail/lg-thumbnail.min.js" defer></script><script src="/lib/lightgallery/plugins/zoom/lg-zoom.min.js" defer></script><script src="/lib/cookieconsent/cookieconsent.min.js" defer></script><script src="/posts/2024/you-had-me-at-bicep-deploying-microsoft-sentinel-made-easy/config.js" defer></script><script src="/js/theme.min.js" defer></script><script>
      window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());
      gtag('config', 'G-J3E897NYLC');
    </script><script src="https://www.googletagmanager.com/gtag/js?id=G-J3E897NYLC" async></script></body>
</html>
